
Data Segment
M1 DB "Current Time:$"
M2 DB 10,13,"Current Date:$"
HR DB ?
MIN DB ?
DAY DB ?
MONTH DB ?
YEAR DW ?
DATA ENDS
CODE SEGMENT
ASSUME CS:CODE DS:DATA
START:
MOV AX,@DATA
MOV DS,AX	;INITIALIZE DATA SEGMENT
MOV AH,2CH	;SERVICE NUMBER TO GET SYSTEM TIME
INT 21H
MOV HR,CH
MOV MIN,CL
MOV AH,2AH	;SERVICE NUMBER TO GET SYSTEM DATE
INT 21H
MOV DAY,DL
MOV MONTH,DH
MOV YEAR,CX
LEA DX,M1	;DISPLAY MESSAGE(CURRENT TIME:)
MOV AH,9
INT 21H
MOV CL,HR
MOV CH,0
CALL DISP
MOV DL,':'
MOV AH,2
INT 21H
MOV CL,0
CALL DISP
LEA DX,M2	;DISPLAY MESSAGE(CURRENT DATE:)
MOV AH,9
INT 21H
MOV CL,DAY
MOV CH,0
CALL DISP
MOV DL,'/'
MOV AH,2
INT 21H
MOV CL,MONTH
MOV CH,0
CALL DISP
MOV DL,'/'
MOV AH,2
INT 21H
MOV CX,YEAR
CALL DISP
MOV AH,4CH
INT 21H

DISP PROC	;INPUT:CX=000FH BX=0000H
MOV BX,0
NEXT:MOV AL,BL
	ADD AL,1
	DAA
	MOV BL,AL
	JNC NEXT1
	MOV AL,BH
	ADD AL,1
	DAA
	MOV BH,AL
NEXT1:	LOOP NEXT  ;CX=0000H, BX=0015H
	MOV DL,BL	;DL=15H=0001 0101
	AND DL,0F0H	;DL=10H
	MOV CL,4
	SHR DL,CL	;DL=01H
	ADD DL,30H	;DL=31H
	MOV AH,2
	INT 21H		;DISPLAY 1 ON MONITOR
	MOV DL,BL	;DL=15H
	AND DL,OFH	;DL=05H
	ADD DL,30H	;DL=35H
	INT 21H		;DISPLAY 5 ON MONITOR
	RET
   DISP ENDP
	END


